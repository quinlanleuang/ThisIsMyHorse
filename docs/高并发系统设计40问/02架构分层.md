### 什么是分层架构
- 分层架构是将整体系统拆分成N个层次，每个层次有独立的职责，多个层次协同提供完整的功能
  
### 分层有什么好处
- 分层的设计可以简化系统设计，让不同的人专注做某一层的事情
- 分层之后可以做到很高的复用
- 分层架构让我们更容易做横向扩展
- 横向扩展是高并发系统设计常用的手段，分层的架构可以为横向扩展提供便捷，那么高并发的系统一定是分层的

### 如何做系统分层
- 需要清楚每一层的职责和边界

![](https://static001.geekbang.org/resource/image/45/b1/45e6640e70d3e1eae4b45a45fefa32b1.jpg)

### 分层架构的不足
- 分层增加了代码的复杂度
- 每一层独立部署，层次之间通过网络进行交互，多层的架构在性能上就有一定的损耗
- 但是分层架构是利大于弊的，我们要积极地拥抱
- 分层架构是软件设计思想的外在体现。比如说，
  - 单一职责原则规定每个类只有单一的功能，在这里可以引申为每一层拥有单一职责，且层与层之间边界清晰
  - 迪米特法则原意是一个对象应当对另一个对象有尽可能少的了解，这里引申为只有相邻两层之间可以进行数据交换，跨层的数据交换是不允许的
  - 开闭原则要求软件对扩展开发对修改关闭，这里引申为抽象层和实现层，抽象层是一种协议，不可随意修改，实现层是抽象层的具体实现，可以随意修改替换

### 你在日常的开发中，是如何做架构分层的？如此分层的优势是什么？
- 参考了阿里巴巴的分层架构模型，优势就是各层职责和边界分清楚之后，无论是开发新的需求还是熟悉老业务，都是比较清晰的。